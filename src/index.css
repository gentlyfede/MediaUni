:root{
  color-scheme: light;

  --bg: #f5f5f7;
  --bg-elev: rgba(255, 255, 255, 0.78);
  --surface: #ffffff;

  --text: #1d1d1f;
  --muted: rgba(29, 29, 31, 0.64);

  --hairline: rgba(0,0,0,0.08);

  --r-sm: 14px;
  --r-md: 18px;
  --r-lg: 24px;

  --shadow-sm: 0 8px 24px rgba(0,0,0,0.08);
  --shadow-md: 0 14px 40px rgba(0,0,0,0.12);

  --ease: cubic-bezier(.2,.8,.2,1);
}

*{ box-sizing: border-box; }
html, body, #root{ height: 100%; }
body{
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display",
               "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Subtle “premium” lighting */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(900px 520px at 20% -10%, rgba(0,0,0,0.06), transparent 60%),
    radial-gradient(760px 520px at 90% 0%, rgba(0,0,0,0.05), transparent 55%),
    radial-gradient(900px 700px at 50% 115%, rgba(0,0,0,0.06), transparent 60%);
  opacity: .9;
}

::selection{ background: rgba(0,0,0,0.10); }

/* Neutral focus (no blue) */
:where(a, button, input, select, textarea):focus{ outline: none; }
:where(a, button, input, select, textarea):focus-visible{
  box-shadow: 0 0 0 4px rgba(0,0,0,0.12);
  border-color: rgba(0,0,0,0.22);
}

/* Nicer buttons globally (works even with inline styles) */
button{
  transition: transform 160ms var(--ease), filter 160ms var(--ease), box-shadow 160ms var(--ease);
}
button:hover{ filter: brightness(0.98); transform: translateY(-0.5px); }
button:active{ transform: translateY(0px); filter: brightness(0.96); }

/* Inputs */
input, select, textarea{
  transition: box-shadow 160ms var(--ease), border-color 160ms var(--ease), filter 160ms var(--ease);
}

/* Minimal iOS-like switch used by your “Aggiungi” column */
.umToggleInput{
  -webkit-appearance: none;
  appearance: none;
  width: 44px;
  height: 26px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,0.14);
  background: rgba(0,0,0,0.10);
  position: relative;
  cursor: pointer;
  transition: background 160ms var(--ease), border-color 160ms var(--ease), filter 160ms var(--ease);
}
.umToggleInput::after{
  content:"";
  width: 20px;
  height: 20px;
  border-radius: 999px;
  background: #ffffff;
  position: absolute;
  top: 2px;
  left: 2px;
  box-shadow: 0 6px 16px rgba(0,0,0,0.18);
  transition: transform 160ms var(--ease);
}
.umToggleInput:checked{
  background: #34c759; /* iOS system green */
  border-color: rgba(0,0,0,0.10);
}
.umToggleInput:checked::after{ transform: translateX(18px); }

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; scroll-behavior: auto !important; }
}

/* Mobile-only responsive fixes */
@media (max-width: 720px){
  /* Keep your cards stack */
  .cards { grid-template-columns: 1fr !important; }

  /* (1) Tabella Esami: niente scroll orizzontale, colonne più strette */
  .umExamsTable{
    min-width: 0 !important;
    width: 100% !important;
    table-layout: fixed !important;
  }
  .umExamsTable th,
  .umExamsTable td{
    padding: 10px !important;
  }
  .umExamsTable th:nth-child(2),
  .umExamsTable td:nth-child(2){
    width: 76px !important; /* CFU più corta */
  }
  .umExamsTable th:nth-child(3),
  .umExamsTable td:nth-child(3){
    width: 80px !important; /* Voto */
  }
  .umExamsTable th:nth-child(4),
  .umExamsTable td:nth-child(4){
    width: 92px !important; /* Rimuovi */
  }
  .umExamsTable td:nth-child(1){
    min-width: 0 !important;
  }
  .umExamsTable td:nth-child(1) input{
    min-width: 0 !important;
  }
  .umExamsTable input{
    box-sizing: border-box !important;
    padding: 9px 8px !important;
  }

  /* (2) What-if: impedisci che la select “scappi” e tagli il testo */
  .umWhatif{
    flex-direction: column !important;
    align-items: stretch !important;
  }
  .umWhatif label{
    width: 100% !important;
  }
  .umWhatifSelect{
    width: 100% !important;
    max-width: 100% !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    box-sizing: border-box !important;
  }
  .umWhatifGrade{
    width: 100% !important;
    box-sizing: border-box !important;
  }

  /* (3) Modal import piano: nascondi “Codice” e fai vedere CFU */
  .umPlanTable{
    min-width: 0 !important;
    width: 100% !important;
    table-layout: fixed !important;
  }
  .umPlanTable th,
  .umPlanTable td{
    padding: 10px !important;
  }
  .umPlanTable th:nth-child(2),
  .umPlanTable td:nth-child(2){
    display: none !important; /* sopprimi Codice su mobile */
  }
  .umPlanTable th:nth-child(1),
  .umPlanTable td:nth-child(1){
    width: 96px !important; /* Aggiungi */
  }
  .umPlanTable th:nth-child(4),
  .umPlanTable td:nth-child(4){
    width: 70px !important; /* CFU visibile */
    text-align: center !important;
  }
  .umPlanTable td:nth-child(3){
    white-space: normal !important;
    overflow-wrap: anywhere !important;
    word-break: break-word !important;
  }
}
